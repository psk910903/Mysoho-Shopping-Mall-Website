<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>게시판 목록보기</title>
  <style>
		* {
			margin: 0 auto;
			padding: 0 auto;
			overflow: hidden;
		}
		td, h2 {
			text-align: center;
		}
	</style>

</head>
<body>
<h2>게시판 글목록</h2>

<table width="500" cellpadding="0" cellspacing="0" border="1">
  <tr>
    <th>번호</th>
    <th>이름</th>
    <th>제목</th>
    <th>날짜</th>
    <th>조회수</th>
  </tr>

  <tr th:each="dto, status:${ list }">
    <td th:text="${ status.count }">번호</td>
    <td th:text="${ dto.board_name }">이름</td>
    <td>
      <a th:href="@{contentForm(board_idx=${dto.board_idx})}" th:text="${ dto.board_title }">글제목</a>
    </td>
    <td th:text="${#temporals.format(dto.board_date, 'yyyy-MM-dd HH:mm')}">
      글쓴시간
    </td>
    <td th:text="${ dto.board_hit }">조회수</td>
  </tr>

  <tr>
    <td colspan="5"><a href="/board/writeForm">글작성</a></td>
  </tr>
</table>

<script>
		/* 웹브라우저 back키 누를때, 페이지 재로딩 => 조회수 증가  */
		window.onpageshow = function(event) {
        	if ( event.persisted || (window.performance && window.performance.navigation.type == 2)) {
				 document.location.reload();
			}
		}
	</script>
</body>
</html>